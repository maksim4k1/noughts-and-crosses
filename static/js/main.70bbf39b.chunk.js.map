{"version":3,"sources":["components/Modal/Modal.module.scss","components/Square/Square.module.scss","components/Board/Board.module.scss","components/Square/index.jsx","components/Board/index.jsx","components/Modal/index.jsx","components/Step/index.jsx","components/Steps/index.jsx","components/Game/index.jsx","App.js","index.js"],"names":["module","exports","Square","id","type","onClickHandler","className","style","square","onClick","Board","squares","board","map","item","index","Modal","children","isOpenModal","bg","visibility","opacity","content","Step","Steps","steps","sortedSteps","sort","a","b","step","filter","undefined","length","textAlign","Game","useState","Array","fill","history","setHistory","setType","winner","setWinner","setStep","openModal","setOpenModal","wins","clearHistoryHandler","display","gap","newHistory","xSquares","oSquares","isWinX","isWinO","i","j","find","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.70bbf39b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"bg\":\"Modal_bg__3JyQl\",\"content\":\"Modal_content__1Bh5b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"square\":\"Square_square__1-A_r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"board\":\"Board_board__3EveX\"};","import React from \"react\";\r\nimport style from \"./Square.module.scss\";\r\n\r\nfunction Square ({id, type, onClickHandler}) {\r\n  return(\r\n    <button className={style.square} onClick={() => onClickHandler(id)}>\r\n      {type}\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Square;","import React from \"react\";\r\nimport Square from \"../Square\";\r\nimport style from \"./Board.module.scss\";\r\n\r\nfunction Board ({squares, onClickHandler}) {\r\n  return(\r\n    <div className={style.board}>\r\n      {\r\n        squares.map((item, index) => {\r\n          return <Square key={index} id={index} type={item.type} onClickHandler={() => onClickHandler(index)}/>\r\n        })\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Board;","import React from \"react\";\r\nimport style from \"./Modal.module.scss\";\r\n\r\nfunction Modal ({children, isOpenModal}) {\r\n  return(\r\n    <div className={style.bg} style={isOpenModal ? {visibility: \"visible\", opacity: 1} : {visibility: \"hidden\", opacity: 0}}>\r\n      <div className={style.content}>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Modal;","import React from \"react\";\r\n\r\nfunction Step ({id, type, square, onClickHandler}) {\r\n  return(\r\n    <button className=\"step\" onClick={() => onClickHandler(id - 1)}>\r\n      <span>{id})</span> ход <span>\"{type}\"</span> на клетку <span>\"{square + 1}\"</span>\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Step;","import React from \"react\";\r\nimport Step from \"../Step\";\r\n\r\nfunction Steps ({steps, onClickHandler}) {\r\n  const sortedSteps = [...steps].sort((a, b) => a.step - b.step);\r\n  return(\r\n    <ul className=\"steps\">\r\n      <h2 className=\"steps__title\">История ходов:</h2>\r\n      {\r\n        sortedSteps.filter(item => item.step !== undefined).length\r\n        ? sortedSteps.map((item, index) => {\r\n          return item.step\r\n          ? <Step key={index} id={item.step} type={item.type} square={item.id} onClickHandler={onClickHandler}/>\r\n          : null\r\n        })\r\n        : <div style={{textAlign: \"center\"}}>Ходов не было</div>\r\n      }\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default Steps;","import { useState } from \"react\"\r\nimport Board from \"../Board\";\r\nimport Modal from \"../Modal\";\r\nimport Steps from \"../Steps\";\r\n\r\nconst Game = () => {\r\n  const [history, setHistory] = useState(Array(9).fill({}));\r\n  const [type, setType] = useState(\"X\");\r\n  const [winner, setWinner] = useState(\"\");\r\n  const [step, setStep] = useState(1);\r\n  const [openModal, setOpenModal] = useState(false);\r\n\r\n  const wins = [\r\n    [0,1,2],\r\n    [3,4,5],\r\n    [6,7,8],\r\n    [0,3,6],\r\n    [1,4,7],\r\n    [2,5,8],\r\n    [0,4,8],\r\n    [2,4,6],\r\n  ]\r\n\r\n  function clickHandler(id){\r\n    const newHistory = [...history];\r\n    if(!newHistory[id].type && !winner){\r\n      newHistory[id] = {id, type, step, history: newHistory};\r\n      setHistory(newHistory);\r\n      setStep(step + 1);\r\n      if(type === \"X\"){\r\n        setType(\"O\")\r\n      } else{\r\n        setType(\"X\")\r\n      }\r\n\r\n      const xSquares = newHistory.filter(item => item.type === \"X\").map(item => item.id);\r\n      const oSquares = newHistory.filter(item => item.type === \"O\").map(item => item.id);\r\n      \r\n      let isWinX = false;\r\n      let isWinO = false;\r\n      for(let i = 0; i < wins.length; i++){\r\n        for(let j = 0; j < wins[i].length; j++){\r\n          if(xSquares.find(item => item === wins[i][j]) === undefined){\r\n            isWinX = false;\r\n            break;\r\n          } else{\r\n            isWinX = true;\r\n          }\r\n        }\r\n        for(let j = 0; j < wins[i].length; j++){\r\n          if(oSquares.find(item => item === wins[i][j]) === undefined){\r\n            isWinO = false;\r\n            break;\r\n          } else{\r\n            isWinO = true;\r\n          }\r\n        }\r\n        if(isWinX || isWinO){\r\n          break;\r\n        }\r\n      }\r\n      if(isWinX || isWinO){\r\n        if(isWinX){\r\n          setWinner(\"X\");\r\n        } else if(isWinO){\r\n          setWinner(\"O\");\r\n        } else if(newHistory.filter(item => item.id !== undefined).length === 9){\r\n          setWinner(\"Ничья!\");\r\n        }\r\n        setOpenModal(true);\r\n        setStep(1);\r\n      }\r\n    }\r\n  }\r\n  function historyHandler(id){\r\n    setHistory(history[id].history);\r\n    setStep(history[id].step + 1);\r\n    setWinner(\"\");\r\n  }\r\n  function clearHistoryHandler(){\r\n    setHistory(Array(9).fill({}));\r\n    setStep(1);\r\n    setWinner(\"\");\r\n  }\r\n\r\n  return(\r\n    <div className=\"content\" style={{display: \"flex\", gap: \"50px\"}}>\r\n      <Modal isOpenModal={openModal}>\r\n        {\r\n          winner ?\r\n          <div className=\"winner\">{winner === \"X\" ? \"Крестики победили!\" : winner === \"O\" ? \"Нолики победили!\" : winner}</div>\r\n          : null\r\n        }\r\n        <div className=\"buttons\">\r\n          <button className=\"button dark\" onClick={() => {clearHistoryHandler(); setOpenModal(false);}}>Новая игра</button>\r\n          <button className=\"button dark\" onClick={() => setOpenModal(false)}>Продолжить</button>\r\n        </div>\r\n      </Modal>\r\n      <div>\r\n        <h1 className=\"title\">Крестики-нолики</h1>\r\n        <Board\r\n          squares={history}\r\n          onClickHandler={clickHandler}\r\n        />\r\n      </div>\r\n      <div>\r\n        <Steps\r\n          steps={history}\r\n          onClickHandler={historyHandler}\r\n        />\r\n        <button className=\"button\" onClick={clearHistoryHandler}>Сбросить</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Game;","import Game from './components/Game';\nimport './styles/App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Game/>\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}